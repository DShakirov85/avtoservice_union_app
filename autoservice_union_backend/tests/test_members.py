from httpx import AsyncClient


async def test_members_owner(ac: AsyncClient):

    payload = {"surveyId":"661a3c405d2a06627090e20f","values":{"answer_short_text_47493732":"Шакиров Д.П,","answer_choices_47493850":["90608271"],"answer_choices_47494243":["90609058"],"answer_short_text_47494618":"паспорт","id-question-49184679":"адрес","id-question-47494641":"Геликон Тест","id-question-47572714":"Геликон Тест","answer_short_text_47494694":"12314123","id-question-47494736":"разработчик","id-question-47494749":"12323435344","id-question-49211496":"Адрес организации юридический","id-question-47494786":"Адрес места основной деятельности организации","id-question-47494813":"Адрес для почтовой корреспонденции с индексом","answer_phone_47494857":"+79786917217","id-question-47494927":"+79786917217","answer_url_47494937":"gelikon.tech","answer_non_profile_email_47498924":"test@test.com","answer_short_text_49185760":"РНКБ","answer_short_text_48611763":"2132523","id-question-49185721":"2325436534","id-question-48612106":"23426345645","answer_choices_47499693":["126645"],"answer_short_text_47499799":"1","answer_short_text_47500833":"100","answer_files_47504264":[{"loading":False,"name":"AUTO.jpeg","path":"/8174359/67ee488c505690617afc1d9f_auto.jpeg","size":9143,"url":"https://forms.yandex.ru/u/files?path=%2F8174359%2F67ee488c505690617afc1d9f_auto.jpeg"}],"answer_choices_47501037":["90624818","90624909","90624910","90624946"],"id-question-47603918":"специальность","answer_group_47504045":[{"answer_short_text_47503876":"вк","id-question-47504108":"телеграм","id-question-47504127":"ватсапп"}],"answer_choices_47504452":["90633261","90633853","90633854","90633855","90633856","90633857","90633858","90633859"],"answer_boolean_47505390":True,"answer_choices_47505295":["90635533"],"answer_date_47505416":"2025-04-03"},"parent":"https://xn--80aeaanjl6bddtffei2q.xn--p1ai/","dryRun":False}
    response = await ac.post("/api/members/", json=payload)
    assert response.status_code == 200


async def test_members_manager(ac: AsyncClient):
    payload = {"surveyId":"661a3c405d2a06627090e20f","values":{"answer_short_text_47493732":"Шакиров Дмитрий Павлович","answer_choices_47493850":["90608566"],"answer_choices_47494243":["90609058"],"id-question-47494641":"Тест Геликон","id-question-47572714":"Тест Геликон","answer_short_text_47494694":"9999999999999999","id-question-47498656":"1324134135","answer_date_47499356":"2025-04-03","id-question-47498691":"2424452542345","id-question-47499628":"01.02.2025","id-question-47498774":"руководитель","id-question-47498799":"Кустова Н.В.","id-question-47494749":"2342232413423","id-question-49211496":"Тестовый адрес","id-question-47494786":"Тестовый адрес","id-question-47494813":"99002 г. Севастополь","answer_phone_47494857":"+79786917217","id-question-47494927":"+79786917217","answer_non_profile_email_47498924":"shakirovdominatus@gmail.com","id-question-47606980":["90631566"],"answer_short_text_49185760":"РНКБ","answer_short_text_48611763":"1231325","id-question-49185721":"23423354","id-question-48612106":"4524543","answer_short_text_47499799":"1","answer_files_47504264":[{"loading":False,"name":"AUTO.jpeg","path":"/4412411/67ee2cefe010db54ff9c892b_auto.jpeg","size":9143,"url":"https://forms.yandex.ru/u/files?path=%2F4412411%2F67ee2cefe010db54ff9c892b_auto.jpeg"}],"answer_choices_47501037":["90624946"],"id-question-47603918":"тест","answer_group_47501133":[{"answer_short_text_47501171":"разработчик","id-question-47501196":"Шакиров Д.П.","id-question-47501207":"shakirovdominatus@gmail.com","id-question-47501215":"+79786917217","id-question-49193900":"01.01.2025"}],"answer_boolean_47505390":True,"answer_choices_47505295":["90635533"],"answer_date_47505416":"2025-04-20"},"parent":"https://xn--80aeaanjl6bddtffei2q.xn--p1ai/","dryRun":False}
    response = await ac.post("/api/members/", json=payload)
    assert response.status_code == 200


async def test_members_individual(ac: AsyncClient):
    payload = {"surveyId":"661a3c405d2a06627090e20f","values":{"answer_short_text_47493732":"Шакиров Д.П,","answer_choices_47493850":["90608567"],"answer_choices_47494243":["90609058"],"id-question-47499229":"321342","id-question-47494641":"ИП ШАКИРОВ ДП(Тест Геликон(завершительный))","id-question-47572714":"Тест Геликон(последний, больше не будет)","answer_short_text_47494694":"92000000","answer_date_47499356":"2025-03-03","id-question-47499430":"4352465245","id-question-47499628":"245245245","id-question-47494749":"2462344623","id-question-49211496":"г.Севастополь","id-question-47494786":"г.Севастополь","id-question-47494813":"920002, г.Севастополь","answer_phone_47494857":"+79786917217","id-question-47494897":"+79786917217","id-question-47494927":"+79786917217","answer_url_47494937":"test.com","answer_non_profile_email_47498924":"shakirovdominatus@gmail.com","answer_short_text_49185760":"РНКБ","answer_short_text_48611763":"2324323","id-question-49185721":"112312312","id-question-48612106":"12312442343","answer_choices_47499693":["14852"],"answer_short_text_47499799":"1","answer_short_text_47500833":"10","answer_files_47504264":[{"loading":False,"name":"AUTO.jpeg","path":"/6662681/67ee49cdd0468861bc31f3dc_auto.jpeg","size":9143,"url":"https://forms.yandex.ru/u/files?path=%2F6662681%2F67ee49cdd0468861bc31f3dc_auto.jpeg"}],"answer_choices_47501037":["90624818","90624909","90624910","90624946"],"id-question-47603918":"специальная","answer_choices_47503783":["90631566"],"answer_group_47501133":[{"answer_short_text_47501171":"разработчик","id-question-47501196":"Шакиров Д.П.","id-question-47501207":"shakirovdominatus@gmail.com","id-question-47501215":"+79786917217","id-question-47503651":"123","id-question-49193900":"03.06.2022","id-question-49196290":"Москва","id-question-49196429":"бессрочно"}],"answer_group_47504045":[{"answer_short_text_47503876":"вк","id-question-47504108":"телеграм","id-question-47504127":"ватсап"}],"answer_choices_47504452":["90633261","90633853","90633854","90633855","90633856","90633857","90633861","90633863"],"answer_boolean_47505390":True,"answer_choices_47505295":["90635533"],"answer_date_47505416":"2025-04-03","answer_long_text_48613111":"Извини за беспокойство, нужно было протестировать все варианты отправки формы. Больше такого не будет. Спасибо за понимание."},"parent":"https://forms.yandex.ru/u/661a3c405d2a06627090e20f/success/?iframe=1&page=8&akey=e912fb1911ff7559d8307b749025fa81f7c84df1","dryRun":False}
    response = await ac.post("/api/members/", json=payload)
    assert response.status_code == 200